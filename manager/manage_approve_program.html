<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Page Title</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" media="screen"/>
    <script src="../js/we.programe.management.js" type="text/javascript"></script> 
    <script>
    function refresh_to_approve_programe_list() {
      // -----
      // adding a table dynamically
      // https://www.aspsnippets.com/Articles/Create-dynamic-Table-in-HTML-at-runtime-using-JavaScript.aspx
      // -----
      var programeList = we_get_to_approve_programs()
      var programeHeader = we_get_to_approve_programs_headers()
      var table = document.createElement("TABLE");
      table.border = "1";
  
      //Get the count of columns.
      var columnCount = programeHeader.length;
  
      //Add the header row.
      var row = table.insertRow(-1);
      var linkIdx = 0;
      for (var i = 0; i < columnCount; i++) {
          var headerCell = document.createElement("TH");
          headerCell.innerHTML = programeHeader[i];
          row.appendChild(headerCell);
          if(programeHeader[i] == "凭证链接"){
            linkIdx = i;
          }
      }
  
      //Add the data rows.
      for (var i = 0; i < programeList.length; i++) {
        row = table.insertRow(-1);
        for (var j = 0; j < columnCount; j++) {
          var cell = row.insertCell(-1);
          if(j == linkIdx){
            // add the default content 链接 with a hyperlink...
            cell.innerHTML = "<a href = '"+programeList[i][j]+"'>链接</a>";
          }
          else{
            cell.innerHTML = programeList[i][j];
          }
        }
        // add an approval button
        // https://stackoverflow.com/questions/15315315/how-do-i-add-a-button-to-a-td-using-js
        // var approveBtn = row.insertCell(-1);
        var btn = document.createElement('input');
        btn.type = "button";
        btn.className = "btn";
        btn.value = "开始审核";
        btn.onclick = (function() {/*do something*/});
        row.appendChild(btn);
      }
  
      var dvTable = document.getElementById("programe_list");
      dvTable.innerHTML = "";
      dvTable.appendChild(table);
    }
    </script>
</head>


<body>
  <input type="button" name="submit" value=" 刷新 " onclick="refresh_to_approve_programe_list()">
    
<table id="programe_list">
  
</table>

</body>
</html>